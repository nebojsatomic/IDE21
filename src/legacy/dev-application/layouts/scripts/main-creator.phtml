<?php
/**
* IDE21 Content Management System
*
* @category   Layouts
* @package    IDE21
*  Copyright (C) 2010-present  Nebojsa Tomic (nebojsatmc@gmail.com)
*
*  This file is part of IDE21.
*
*  IDE21 is distributed in the hope that it will be useful,
*  but WITHOUT ANY WARRANTY; without even the implied warranty of
*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
*
*/
?>
<?php require("css_browser_selector.php"); ?>
<!DOCTYPE html>
<html lang="en" class="<?php echo css_browser_selector() ?> ">
<head>
  <meta name="keywords" content="<?php echo $this->meta_description;?>" />
  <meta name="description" content="<?php echo $this->meta_description;?>" />
  <meta name="generator" content="NeT" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><?php echo $this->title;?> - <?php echo $this->version;?> </title>
  <link rel="stylesheet" href="/css/creator/creator.css" type="text/css" />
  <link rel="stylesheet" href="/css/jdMenu/blue/jquery.jdMenu.css" type="text/css" />
  <link rel="stylesheet" href="/css/default.css" type="text/css" /><!--CSS written in admin panel-->
  <link rel="stylesheet" href="/css/backend.css" type="text/css" /><!--CSS written for the admin panel-->
  <!--treeView-->
  <link rel="stylesheet" href="/css/treeView/jquery.treeview.css" type="text/css" />
  <link rel="stylesheet" href="/css/treeView/screen.css" type="text/css" />
  <!--lightBox-->
  <link rel="stylesheet" href="/css/lightbox/jquery.lightbox-0.5.css" type="text/css" />
  <link rel="stylesheet" href="/css/lightbox/thickbox.css" type="text/css" media="screen" />
  <!--coloris-->
  <link rel="stylesheet" href="/coloris/coloris.min.css"/>
  <link rel="stylesheet" href="/css/default.css" type="text/css" /><!--CSS written in admin panel-->
  <link rel="stylesheet" href="/css/backend.css" type="text/css" /><!--CSS written for the admin panel-->
  <link type="text/css" href="/css/jqUI/ui.all.css" rel="stylesheet" />
  <link type="text/css" href="/css/defaultWidgets.css" rel="stylesheet" />
  <!--themes for the objects-->
<!--<link type="text/css" href="/css/themes.css" rel="stylesheet" />
-->
  <link rel="shortcut icon" type="image/x-icon" href="/images/ide21logo.svg">

  <!--<link href="/daisy/daisyui.full.min.css" rel="stylesheet" type="text/css" />-->
  <link href="/css/tailwind.output.css?rnd=<?php echo rand();?>" rel="stylesheet" type="text/css" />
  <script src="/daisy/daisyui.tailwind.3.4.3.js"></script>

  <!-- native browser scrollbars are too thin on mobile -->
  <link rel="stylesheet" href="/simplebar/simplebar.css" />
  <script src="/simplebar/simplebar.min.js"></script>

  <script type="text/javascript" >
  absoluteUrl = "<?php echo $this->hostRW;?>";
  absoluteUrl2 = "<?php echo $this->host;?>";
  </script>

  <script src="/js/jquery/jquery-3.7.1.js"></script>
  <script src="/js/jquery/jquery-migrate-3.4.0.js"></script>
  <!--<script type="text/javascript" src="/js/combinedAll.js"></script>-->
  <script type="text/javascript" src="/js/jquery/jquery.ui.js"></script>
  <script type="text/javascript" src="/js/jquery/jquery.livequery.js"></script>

  <script type="text/javascript" src="/js/jquery/ui.draggable.js"></script>
  <script type="text/javascript" src="/js/jquery/ui.droppable.js"></script>
  <script type="text/javascript" src="/js/jquery/ui.resizable.js"></script>

  <script type="text/javascript" src="/js/jquery/jquery.jdMenu.js"></script>
  <script type="text/javascript" src="/js/jquery/jquery.treeview.js"></script>
  <script type="text/javascript" src="/js/jquery/jquery.form.js"></script>

  <script type="text/javascript" src="/js/jquery/alajax.js"></script>
  <!--dialog-->
  <script type="text/javascript" src="/js/jquery/ui.dialog.js"></script>
  <script type="text/javascript" src="/js/jquery/ui.position.js"></script>
  <script type="text/javascript" src="/js/jquery/jquery.ui.touch-punch.min.js"></script>

  <script type="text/javascript" src="/js/jqgrid/js/jquery.contextmenu.js" ></script>
  <script type="text/javascript" src="/js/jquery/thickbox.js"></script>
  <script language="JavaScript" type="text/javascript" src="/js/wysiwyg/tiny_mce/tiny_mce.js"></script>
  <?php echo $this->headScript(); ?>
</head>
<body id="body" class="overflow-hidden">
  <!-- top panel -->
  <div id="blur-all" class="hidden absolute w-full h-full top-0 backdrop-blur-sm z-[999998] "></div>
  <div id="creator-header-navbar" class="navbar bg-neutral min-h-16 h-16 relative z-[999997]">
    <div class="navbar-start flex gap-1 md:gap-2">
      <!--<div class="dropdown">
        <div tabindex="0" role="button" class="btn btn-sm btn-ghost btn-circle text-white">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg>
        </div>
        <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
          <li><a>Homepage</a></li>
          <li><a>Portfolio</a></li>
          <li><a>About</a></li>
        </ul>
      </div>-->
      <div id ="contPreview" class="hidden w-full h-auto absolute top-52 left-72 bg-white" style="z-index: 9999999;"></div><!-- z-index must be like this for now, since a lot of interaction with droppables relies on the order of elements, it should be rewritten to something more sensible, for all elements in the admin panel -->
      <div id="toggleProperties"  class="help cursor-pointer btn btn-sm btn-ghost btn-circle text-white" title="<?php echo $this->translate->_("Click to toggle properties box");?>">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
          <path fill-rule="evenodd" d="M11.828 2.25c-.916 0-1.699.663-1.85 1.567l-.091.549a.798.798 0 0 1-.517.608 7.45 7.45 0 0 0-.478.198.798.798 0 0 1-.796-.064l-.453-.324a1.875 1.875 0 0 0-2.416.2l-.243.243a1.875 1.875 0 0 0-.2 2.416l.324.453a.798.798 0 0 1 .064.796 7.448 7.448 0 0 0-.198.478.798.798 0 0 1-.608.517l-.55.092a1.875 1.875 0 0 0-1.566 1.849v.344c0 .916.663 1.699 1.567 1.85l.549.091c.281.047.508.25.608.517.06.162.127.321.198.478a.798.798 0 0 1-.064.796l-.324.453a1.875 1.875 0 0 0 .2 2.416l.243.243c.648.648 1.67.733 2.416.2l.453-.324a.798.798 0 0 1 .796-.064c.157.071.316.137.478.198.267.1.47.327.517.608l.092.55c.15.903.932 1.566 1.849 1.566h.344c.916 0 1.699-.663 1.85-1.567l.091-.549a.798.798 0 0 1 .517-.608 7.52 7.52 0 0 0 .478-.198.798.798 0 0 1 .796.064l.453.324a1.875 1.875 0 0 0 2.416-.2l.243-.243c.648-.648.733-1.67.2-2.416l-.324-.453a.798.798 0 0 1-.064-.796c.071-.157.137-.316.198-.478.1-.267.327-.47.608-.517l.55-.091a1.875 1.875 0 0 0 1.566-1.85v-.344c0-.916-.663-1.699-1.567-1.85l-.549-.091a.798.798 0 0 1-.608-.517 7.507 7.507 0 0 0-.198-.478.798.798 0 0 1 .064-.796l.324-.453a1.875 1.875 0 0 0-.2-2.416l-.243-.243a1.875 1.875 0 0 0-2.416-.2l-.453.324a.798.798 0 0 1-.796.064 7.462 7.462 0 0 0-.478-.198.798.798 0 0 1-.517-.608l-.091-.55a1.875 1.875 0 0 0-1.85-1.566h-.344ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z" clip-rule="evenodd" />
        </svg>
      </div>

      <div id="newItem" class="help cursor-pointer btn btn-sm btn-ghost btn-circle text-white" title="<?php echo $this->translate->_("Click to create new object on this page");?>">
        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z" clip-rule="evenodd" />
          <path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z" />
        </svg>
      </div>
      <div id="cloneItem" class="help cursor-pointer btn btn-sm btn-ghost btn-circle text-white" title="<?php echo $this->translate->_("Click to create clone object");?>">
        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path fill-rule="evenodd" d="M17.663 3.118c.225.015.45.032.673.05C19.876 3.298 21 4.604 21 6.109v9.642a3 3 0 0 1-3 3V16.5c0-5.922-4.576-10.775-10.384-11.217.324-1.132 1.3-2.01 2.548-2.114.224-.019.448-.036.673-.051A3 3 0 0 1 13.5 1.5H15a3 3 0 0 1 2.663 1.618ZM12 4.5A1.5 1.5 0 0 1 13.5 3H15a1.5 1.5 0 0 1 1.5 1.5H12Z" clip-rule="evenodd" />
          <path d="M3 8.625c0-1.036.84-1.875 1.875-1.875h.375A3.75 3.75 0 0 1 9 10.5v1.875c0 1.036.84 1.875 1.875 1.875h1.875A3.75 3.75 0 0 1 16.5 18v2.625c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625v-12Z" />
          <path d="M10.5 10.5a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963 5.23 5.23 0 0 0-3.434-1.279h-1.875a.375.375 0 0 1-.375-.375V10.5Z" />
        </svg>
      </div>

      <!--<div id="helpButton" class="help hidden btn btn-sm btn-ghost btn-circle text-white" title="<?php echo $this->translate->_("Click to toggle help");?>"></div>
      <div id="helpDiv"  title=""><?php echo $this->translate->_("NeT.Creator Help");?></div>-->

      <div id="delButton" class="help cursor-pointer btn btn-sm btn-ghost btn-circle text-white" title="<?php echo $this->translate->_("Click to delete selected object");?>">
        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" >
          <path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd" />
          <path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z" />
        </svg>
      </div>

      <div id="updateContentButton" class="help cursor-pointer btn btn-sm btn-ghost btn-circle text-white" title="<?php echo $this->translate->_("Click this to update the content of the selected object") . " after editing in tinyMCE.";?>"> <a id="tinySave" href=""  class="navLinks a_refresh noAjaxEvent help" title="<?php echo $this->translate->_("Click this to update the content of the selected object");?>">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
          <path fill-rule="evenodd" d="M2.25 4.5A.75.75 0 0 1 3 3.75h14.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75Zm0 4.5A.75.75 0 0 1 3 8.25h9.75a.75.75 0 0 1 0 1.5H3A.75.75 0 0 1 2.25 9Zm15-.75A.75.75 0 0 1 18 9v10.19l2.47-2.47a.75.75 0 1 1 1.06 1.06l-3.75 3.75a.75.75 0 0 1-1.06 0l-3.75-3.75a.75.75 0 1 1 1.06-1.06l2.47 2.47V9a.75.75 0 0 1 .75-.75Zm-15 5.25a.75.75 0 0 1 .75-.75h9.75a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />
        </svg>
      </a></div>
      
      <!-- <div id="moveProps" class="help" title="<?php echo $this->translate->_("Click to move around properties dialog");?>">
        <button id="upB"></button> <button id="downB"></button>
      </div> -->
    </div>
    <div class="navbar-center hidden sm:flex text-base text-white font-semibold w-40 grid gap-2">
      <!--<img alt="IDE21 Logo" src="/images/ide21logo.svg">-->
      <div class="truncate"><?php echo $this->loggedUserFullName; ?></div>
      <div> on: </div>
      <div><?php echo str_replace('Ver.', '', $this->version);?></div>
    </div>
    <div class="navbar-end flex gap-2">
      <div>
        <a id="fsbuttonAll" class="help fsbutton w-8 text-white" href="#">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
            <path fill-rule="evenodd" d="M15 3.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0V5.56l-3.97 3.97a.75.75 0 1 1-1.06-1.06l3.97-3.97h-2.69a.75.75 0 0 1-.75-.75Zm-12 0A.75.75 0 0 1 3.75 3h4.5a.75.75 0 0 1 0 1.5H5.56l3.97 3.97a.75.75 0 0 1-1.06 1.06L4.5 5.56v2.69a.75.75 0 0 1-1.5 0v-4.5Zm11.47 11.78a.75.75 0 1 1 1.06-1.06l3.97 3.97v-2.69a.75.75 0 0 1 1.5 0v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h2.69l-3.97-3.97Zm-4.94-1.06a.75.75 0 0 1 0 1.06L5.56 19.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 1.5 0v2.69l3.97-3.97a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path>
          </svg>
        </a>
      </div>
      <div id="p_t_common" class="noAjaxEvent grid grid-cols-2 item-strech items-center h-6 text-white px-2">
        <div class="col-span-2 grid-cols-2 grid justify-items-center gap-2">
          <span><input id="pageDisplayer" class="noAjaxEvent help radio-sm" type="radio" name="p_g" value="pageEditing" checked="checked" title="<?php echo $this->translate->_("Page creating Mode");?>" /></span>
          <span><input  id="templateDisplayer" class="noAjaxEvent help radio-sm" type="radio" name="p_g" value="templateEditing" title="<?php echo $this->translate->_("Template creating Mode");?>" /></span>
        </div>
        <div id="p_t-label" class="text-white col-span-2 justify-items-between text-center">
          <span id="p_t-label-page" class="hidden"><?php echo $this->translate->_("Page");?></span>
          <span id="p_t-label-template" class="hidden"><?php echo $this->translate->_("Template");?></span>
        </div>
      </div>
      <div class="dropdown" style="z-index:9;">
        <div tabindex="0" role="button" class="btn btn-sm min-h-8 h-8 w-8 rounded-full">
          <svg width="12px" height="12px" class="h-2 w-2 fill-current opacity-60 inline-block" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2048 2048"><path d="M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"></path></svg>
        </div>
        <ul tabindex="0" class="dropdown-content z-[99] p-2 shadow-2xl bg-base-300 rounded-box w-20">
          <!--<li><input type="radio" name="theme-dropdown" class="theme-controller btn btn-sm btn-block btn-ghost justify-start" aria-label="System" value="default"/></li>-->
          <li><input type="radio" name="theme-dropdown" class="theme-controller btn btn-sm btn-block btn-ghost justify-start" aria-label="Nord" value="nord"/></li>
          <li><input type="radio" name="theme-dropdown" class="theme-controller btn btn-sm btn-block btn-ghost justify-start" aria-label="Retro" value="retro"/></li>
          <!-- <li>
            <a id="add-new-daisy" class="theme-controller btn btn-sm btn-block btn-ghost justify-center text-green-600">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
              <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z" clip-rule="evenodd" />
            </svg>
            </a>
          </li> -->
        </ul>
      </div>
      <div id="logout" class="help btn btn-sm btn-ghost btn-circle text-white mx-2 cursor-pointer" title="<?php echo $this->translate->_("Click to logout");?>">
        <a id="logout_a" class="a_logout" href="<?php echo $this->host;?>creator/logout" >
          <svg class="w-6 h-6 rotate-180" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path fill-rule="evenodd" d="M16.5 3.75a1.5 1.5 0 0 1 1.5 1.5v13.5a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5V15a.75.75 0 0 0-1.5 0v3.75a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3V5.25a3 3 0 0 0-3-3h-6a3 3 0 0 0-3 3V9A.75.75 0 1 0 9 9V5.25a1.5 1.5 0 0 1 1.5-1.5h6ZM5.78 8.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 0 0 0 1.06l3 3a.75.75 0 0 0 1.06-1.06l-1.72-1.72H15a.75.75 0 0 0 0-1.5H4.06l1.72-1.72a.75.75 0 0 0 0-1.06Z" clip-rule="evenodd" />
          </svg>
        </a>
      </div>
    </div>
  </div>
  <!-- end top panel -->

  <div id="ajax-loader"></div>
  <div id="dialogDiv" class="bg-primary text-primary-content"></div>
  <div id ="container">
    <div id="content">
      <div id="templateMask"></div>
      <?php
      echo $this->layout()->content;
      ?>
    </div>
  </div>
  <script src="/coloris/coloris.min.js"></script>

  <script type="text/javascript" src="/js/codepressFix.js" ></script>

  <script src="/ace/src-min/ace.js" type="text/javascript" charset="utf-8"></script>
  <script src="/ace/src-min/ext-language_tools.js"></script>
  <script>
      var editorCSS = ace.edit("pageCSS-ace");
      editorCSS.setTheme("ace/theme/chrome");
      editorCSS.session.setMode("ace/mode/css");

      editorCSS.setOptions({
        enableBasicAutocompletion: true,
        enableSnippets: true,
        enableLiveAutocompletion: true
      });

      var editorJS = ace.edit("pageJS-ace");
      editorJS.setTheme("ace/theme/chrome");
      editorJS.session.setMode("ace/mode/javascript");

      editorJS.setOptions({
        enableBasicAutocompletion: true,
        enableSnippets: true,
        enableLiveAutocompletion: true
      });
  </script>
</body>
</html>
